#include "timer.h"
#include "display.h"

Clock clock = {0}; // Inicialización de la estructura de reloj

int main() {
    init_timer();

    while (1) {
        alt_u32 timer_status = IORD_ALTERA_AVALON_TIMER_STATUS(TIMER_BASE);

        if (timer_status & ALTERA_AVALON_TIMER_STATUS_TO_MSK) {
            update_clock(&clock);
            display_time(&clock);
            IOWR_ALTERA_AVALON_TIMER_STATUS(TIMER_BASE, ALTERA_AVALON_TIMER_STATUS_TO_MSK);
        }
    }
    return 0;
}
